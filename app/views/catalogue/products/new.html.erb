<div data-controller="calculate">
  <div class="p-12 mx-auto text-gray-800 max-w-7xl">
    <h2>Create a product for <%= @product.supplier.name %></h2>
    <div data-controller="hello">
      <% if @product.errors.any? %>
        <% @product.errors.full_messages.each do |message|%>
           <p class="text-red-700 text-base"><%= message %> </p>
        <%end%>
      <%end%>
      <%= simple_form_for @product, builder: TailwindFormBuilder, class: "mt-6", url: catalogue_supplier_products_path do |f| %>
        <%= f.label "Product Title" %>
        <%= f.text_field :title, placeholder: 'My Product' %>
        <br />
        <%= f.label "Product Description" %>
        <%= f.text_field :description, placeholder: 'Description of my product' %>
        <br />
        <%= f.label "Notes" %>
        <%= f.text_field :notes, placeholder: 'anything you like in here' %>
        <br />
        <%= f.label "SKU Code" %>
        <%= f.text_field :sku_code, value: @product.sku_code %>
        <br />
        <button data-action="click->hello#testMe", class="btn btn-outline-secondary">Add Variants</button>

        <br />
        <br />
        <%= f.input :publish, as: :select, collection: ['Yes', 'No'], required: true, include_blank: false, label: 'Publish this Product?', selected: @product.display_published %>
        <br />
        <%= f.label @product.cost_price_label %>
        <%= f.text_field :cost_price, placeholder: '100.99', value: @product.display_cost_price %>
        <%= f.label "Markup" %>
        <%= f.text_field :markup, placeholder: '50%', value: @product.display_markup %>
        <br />
        <%= f.label "Total Cost Price" %>
        <%= f.label "123.45" %>

        <br />
        <br />
        <%= f.label "Accounting Code" %>
        <%= f.collection_select :accounting_code_id, AccountingCode.order(:name),:id,:name, include_blank: true %>
        <br />
        <br />
        <%= f.submit_button "Create Product" %>
        <%= link_to "Cancel", catalogue_supplier_path(@product.supplier.id), class: "btn btn-outline-secondary" %>
      <% end %>
    </div>
  </div>
</div>